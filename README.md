# Report generator

### –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –¥–ª—è —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–æ–≤ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö.
**–õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è** –∑–∞ —Å—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è **—Ñ–∞–±—Ä–∏–∫** –∏ **–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤**!
–í —Å–∫—Ä–∏–ø—Ç –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –∏ —Ç–∏–ø –æ—Ç—á–µ—Ç–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å.
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é c–∫—Ä–∏–ø—Ç —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä–æ—Å—Ç–æ–π –æ—Ç—á–µ—Ç –ø–æ –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç–µ.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
    report-generator
    ‚îú‚îÄ‚îÄ core/
    ‚îÇ   ‚îú‚îÄ‚îÄ cli/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ parser.py       # –ü–∞—Ä—Å–∏—Ç –∞—Ç—Ä–∏–±—É—Ç—ã, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–∞
    ‚îÇ   ‚îî‚îÄ‚îÄ interfaces/         # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
    ‚îú‚îÄ‚îÄ models/                 # –ú–æ–¥–µ–ª–∏/–®–∞–±–ª–æ–Ω—ã —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤
    ‚îú‚îÄ‚îÄ repository/
    ‚îÇ   ‚îú‚îÄ‚îÄ file_manager/       # –§–∞–π–ª-–º–µ–Ω–µ–¥–∂–µ—Ä—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–ª–∏–Ω—á—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ —Ñ–∞–π–ª–æ–≤
    ‚îÇ   ‚îî‚îÄ‚îÄ base.py/            # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤
    ‚îú‚îÄ‚îÄ services/               # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
    ‚îú‚îÄ‚îÄ tests/
    ‚îú‚îÄ‚îÄ config.py
    ‚îú‚îÄ‚îÄ controller.py           # –í–µ–¥–µ—Ç —Ä–∞–±–æ—Ç—É —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏
    ‚îú‚îÄ‚îÄ enums.py
    ‚îî‚îÄ‚îÄ main.py
```

#### –°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–µ —Ñ–∞–±—Ä–∏–∫–∏ üèóÔ∏è:

1. –§–∞–±—Ä–∏–∫–∞ —Ñ–∞–π–ª–æ–≤—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–∞, –∏—Å—Ö–æ–¥—è –∏–∑ –µ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.
   –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–∞ –≤—Ö–æ–¥ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤<br> `python3 data1.csv data2.json`

2. –§–∞–±—Ä–∏–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤: –≠—Ç–∞ —Ñ–∞–±—Ä–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞—Ç—Ä–∏–±—É—Ç–∞ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
   `--report`. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å –≤ –≤—ã–±–æ—Ä–µ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –æ—Ç—á–µ—Ç–æ–≤.

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å üîå

–ü—Ä–æ–≥—Ä–∞–º–º–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å. –í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å
–Ω–æ–≤—ã–µ —Ç–∏–ø—ã –æ—Ç—á–µ—Ç–æ–≤, —Å–æ–∑–¥–∞–≤–∞—è –Ω–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.

#### –ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ üìÇ
**managers.py**
```
class XMLFileManager(BaseFileManager):
    __extension = "xml"

    def __init__(self, file_path):
        super().__init__(file_path)

    def read_file(self) -> list:
        ...

    def write_file(self, data) -> None:
        ...

    @classmethod
    def get_extension(cls):
        return cls.__extension
```
A—Ç—Ä–∏–±—É—Ç `__extension`  –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è –ø–æ–¥—Ö–≤–∞—Ç–∞ –Ω–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞. 
–í—Å–µ —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã `read_file()` –∏ `write_file()`

#### –ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π —Å–ª—É–∂–±—ã üõ†Ô∏è
**services/department_services.py**
```
class DepartmentHourlyRate(BaseService):
    __report_type = "hourly_rate"

    def process(self):
        ...

    @classmethod
    def get_report_type(cls):
        return cls.__report_type
```
–ê—Ç—Ä–∏–±—É—Ç `__report_type` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è –ø–æ–¥—Ö–≤–∞—Ç–∞ –Ω–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Å–ª—É–∂–±—ã. –í—Å–µ —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `process()`

#### –ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –º–æ–¥–µ–ª–∏ üì¶
–ú–æ–¥–µ–ª–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è **–≤–∞–ª–∏–¥–∞—Ü–∏–∏** –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏ **–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏** 
–∫ –æ–±—ä–µ–∫—Ç–∞–º python –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π

**models/reports.py**
```
class DepartmentHourlyRateReport(ModelInterface):
    """–ú–æ–¥–µ–ª—å –æ—Ç—á–µ—Ç–∞ —Å–æ —Å—Ä–µ–¥–Ω–µ–π —Å—Ç–∞–≤–∫–æ–π –≤ —á–∞—Å –ø–æ –æ—Ç–¥–µ–ª–∞–º"""

    def to_dict(self) -> dict:
        ...

    def validate(self, name, value):
        ...
```
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–¥–µ–ª–∏ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ `to_dict()` –∏ `validate()`

### üöÄ –ó–∞–ø—É—Å–∫

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º `python3 main.py file1 file2 ... fileN`\
–ù–∞–ø—Ä–∏–º–µ—Ä `python3 main.py data1.csv data2.csv /home/user/data3.csv`\
–ê—Ç—Ä–∏–±—É—Ç `-r, --report` - —Ç–∏–ø –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ –æ—Ç—á–µ—Ç–∞, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **payout**<br/>
–ê—Ç—Ä–∏–±—É—Ç `-o, --output` - –ø—É—Ç—å –¥–ª—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é **data** —ç—Ç–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞

#### –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

```
usage: main.py \[-h] \[-r REPORT] \[-o OUTPUT] files \[files ...]
positional arguments:
  files                 –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º —Å –¥–∞–Ω–Ω—ã–º–∏

options:
  -h, --help            –ö–æ—Ä–æ—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥–∞—Ö
  -r REPORT, --report REPORT
                        –¢–∏–ø –æ—Ç—á—ë—Ç–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏. –í–∞—Ä–∏–∞–Ω—Ç—ã: \['payout']
  -o OUTPUT, --output OUTPUT
                        –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –æ—Ç—á–µ—Ç–∞
```